<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>UIDAI Analytics | Executive Dashboard</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="dashboard.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>


    <div class="dashboard-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="logo-area">
                <div class="logo-icon">
                    <i class="fa-solid fa-fingerprint"></i>
                </div>
                <span>UIDAI <span class="accent">Insight</span></span>
            </div>

            <nav class="nav-menu">
                <a href="#" id="nav-overview" class="nav-item active">
                    <i class="fa-solid fa-grid-2"></i>
                    <span>Overview</span>
                </a>
                <a href="#" id="nav-trends" class="nav-item">
                    <i class="fa-solid fa-chart-line"></i>
                    <span>Trends</span>
                </a>
                <a href="#" id="nav-geo" class="nav-item">
                    <i class="fa-solid fa-map-location-dot"></i>
                    <span>Geospatial</span>
                </a>
                <a href="#" id="nav-reports" class="nav-item">
                    <i class="fa-solid fa-file-export"></i>
                    <span>Reports</span>
                </a>
            </nav>


        </aside>

        <!-- Main Content Area -->
        <main class="main-content">
            <!-- Overview Section -->
            <div id="view-overview" class="view-section active">
                <header class="top-bar">
                    <div class="header-text">
                        <h1>Executive Overview</h1>
                        <p>Real-time insights from uploaded dataset</p>
                    </div>
                </header>

                <!-- Dashboard Grid -->
                <div class="dashboard-grid">

                    <!-- KPI Card 1: Total Enrolments -->
                    <div class="kpi-card glass-panel clickable-card" data-modal="enrolmentModal">
                        <div class="kpi-header">
                            <div class="icon-box blue">
                                <i class="fa-solid fa-users"></i>
                            </div>
                            <div class="trend up">
                                <i class="fa-solid fa-arrow-trend-up"></i>
                                <span>12.5%</span>
                            </div>
                        </div>
                        <div class="kpi-value-group">
                            <h2 class="value">2,543,901</h2>
                            <p class="label">Total Enrolments</p>
                        </div>
                        <div class="insight-badge success">
                            <i class="fa-solid fa-check"></i>
                            <span>Normal Activity</span>
                        </div>
                    </div>

                    <!-- KPI Card 2: Total Updates -->
                    <div class="kpi-card glass-panel clickable-card" data-modal="updatesModal">
                        <div class="kpi-header">
                            <div class="icon-box purple">
                                <i class="fa-solid fa-arrows-rotate"></i>
                            </div>
                            <div class="trend down">
                                <i class="fa-solid fa-arrow-trend-down"></i>
                                <span>3.2%</span>
                            </div>
                        </div>
                        <div class="kpi-value-group">
                            <h2 class="value">856,120</h2>
                            <p class="label">Total Updates</p>
                        </div>
                        <div class="insight-badge warning">
                            <i class="fa-solid fa-triangle-exclamation"></i>
                            <span>Slight Dip</span>
                        </div>
                    </div>

                    <!-- KPI Card 3: Updates Breakdown (Chart) -->
                    <div class="kpi-card glass-panel wide-card">
                        <div class="card-title">
                            <h3>Update Composition</h3>
                            <p>Demographic vs Biometric</p>
                        </div>
                        <div class="chart-container-row">
                            <div class="chart-wrapper">
                                <canvas id="updatesChart"></canvas>
                            </div>
                            <div class="chart-legend">
                                <div class="legend-item">
                                    <span class="dot purple"></span>
                                    <div>
                                        <span class="l-val">65%</span>
                                        <span class="l-lbl">Biometric</span>
                                    </div>
                                </div>
                                <div class="legend-item">
                                    <span class="dot blue"></span>
                                    <div>
                                        <span class="l-val">35%</span>
                                        <span class="l-lbl">Demographic</span>
                                    </div>
                                </div>
                                <div class="insight-text">
                                    <i class="fa-solid fa-circle-info"></i>
                                    <span>High biometric updates due to mandatory renewals.</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- KPI Card 4: Top Regions Activity -->
                    <div class="kpi-card glass-panel tall-card">
                        <div class="card-title">
                            <h3>Regional Hotspots</h3>
                            <button id="viewAllStatesBtn" class="btn-text">View All</button>
                        </div>
                        <div class="region-list">
                            <!-- Top 3 are static here, but we will have a modal for all -->
                            <div class="region-item">
                                <div class="rank">1</div>
                                <div class="region-info">
                                    <h4>Uttar Pradesh</h4>
                                    <div class="bar-bg">
                                        <div class="bar-fill" style="width: 85%"></div>
                                    </div>
                                </div>
                                <div class="region-stats">
                                    <span class="r-val">854k</span>
                                    <span class="r-trend up">
                                        <i class="fa-solid fa-arrow-up"></i> 5%
                                    </span>
                                </div>
                            </div>

                            <div class="region-item">
                                <div class="rank">2</div>
                                <div class="region-info">
                                    <h4>Maharashtra</h4>
                                    <div class="bar-bg">
                                        <div class="bar-fill" style="width: 72%"></div>
                                    </div>
                                </div>
                                <div class="region-stats">
                                    <span class="r-val">721k</span>
                                    <span class="r-trend up">
                                        <i class="fa-solid fa-arrow-up"></i> 8%
                                    </span>
                                </div>
                            </div>

                            <div class="region-item">
                                <div class="rank">3</div>
                                <div class="region-info">
                                    <h4>Bihar</h4>
                                    <div class="bar-bg">
                                        <div class="bar-fill" style="width: 64%"></div>
                                    </div>
                                </div>
                                <div class="region-stats">
                                    <span class="r-val">640k</span>
                                    <span class="r-trend down">
                                        <i class="fa-solid fa-arrow-down"></i> 2%
                                    </span>
                                </div>
                            </div>
                        </div>

                        <div class="anomaly-alert">
                            <i class="fa-solid fa-bolt"></i>
                            <span><strong>Anomaly:</strong> Unusual spike in MP detected yesterday.</span>
                        </div>
                    </div>

                </div>

                <!-- Dashboard Grid Row 2 -->
                <div class="dashboard-grid" style="margin-top: 24px;">

                    <!-- KPI Card 5: Total Authentications -->
                    <div class="kpi-card glass-panel clickable-card" data-modal="authModal">
                        <div class="kpi-header">
                            <div class="icon-box green">
                                <i class="fa-solid fa-fingerprint"></i>
                            </div>
                            <div class="trend up">
                                <i class="fa-solid fa-arrow-trend-up"></i>
                                <span>8.4%</span>
                            </div>
                        </div>
                        <div class="kpi-value-group">
                            <h2 class="value">45.2M</h2>
                            <p class="label">Total Authentications</p>
                        </div>
                        <div class="insight-badge success">
                            <i class="fa-solid fa-shield-halved"></i>
                            <span>High Success Rate</span>
                        </div>
                    </div>

                    <!-- Chart Card: Age Distribution -->
                    <div class="glass-panel" style="grid-column: span 2;">
                        <div class="card-title">
                            <h3>Enrolment by Age Group</h3>
                            <span class="tag">Demographics</span>
                        </div>
                        <div style="height: 200px; width: 100%;">
                            <canvas id="ageChart"></canvas>
                        </div>
                    </div>

                    <!-- Gender Distribution Stats -->
                    <div class="glass-panel">
                        <div class="card-title">
                            <h3>Gender Split</h3>
                        </div>
                        <div class="gender-stats">
                            <div class="gender-row">
                                <div class="g-info">
                                    <span class="g-label">Male</span>
                                    <div class="g-bar-bg">
                                        <div class="g-bar-fill" style="width: 52%; background: #6366f1;"></div>
                                    </div>
                                </div>
                                <span class="g-val">52%</span>
                            </div>
                            <div class="gender-row" style="margin-top: 15px;">
                                <div class="g-info">
                                    <span class="g-label">Female</span>
                                    <div class="g-bar-bg">
                                        <div class="g-bar-fill" style="width: 47%; background: #ec4899;"></div>
                                    </div>
                                </div>
                                <span class="g-val">47%</span>
                            </div>
                            <div class="gender-row" style="margin-top: 15px;">
                                <div class="g-info">
                                    <span class="g-label">Other</span>
                                    <div class="g-bar-bg">
                                        <div class="g-bar-fill" style="width: 1%; background: #a855f7;"></div>
                                    </div>
                                </div>
                                <span class="g-val">1%</span>
                            </div>
                            <div class="insight-text" style="margin-top: 20px;">
                                <i class="fa-solid fa-check"></i> Balanced ratio
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <!-- Trends Section -->
            <div id="view-trends" class="view-section hidden">
                <header class="top-bar">
                    <div class="header-text">
                        <h1>Trends Analysis</h1>
                        <p>Historical data and forecasting</p>
                    </div>
                </header>
                <div class="dashboard-grid">
                    <div class="glass-panel"
                        style="grid-column: span 4; display: flex; align-items: center; justify-content: center; height: 400px; flex-direction: column; gap: 20px;">
                        <div class="icon-box blue" style="width: 80px; height: 80px; font-size: 32px;">
                            <i class="fa-solid fa-chart-line"></i>
                        </div>
                        <h2 style="color: var(--text-muted);">Trends Data Visualization Placeholder</h2>
                        <p style="color: var(--text-muted);">Detailed graphs and temporal analysis will appear here.</p>
                    </div>
                </div>
            </div>

            <!-- Geospatial Section -->
            <div id="view-geo" class="view-section hidden">
                <header class="top-bar">
                    <div class="header-text">
                        <h1>Geospatial Map</h1>
                        <p>Geographic distribution of enrolments</p>
                    </div>
                </header>
                <div class="dashboard-grid">
                    <div class="glass-panel"
                        style="grid-column: span 4; display: flex; align-items: center; justify-content: center; height: 600px; flex-direction: column; gap: 20px;">
                        <div class="icon-box purple" style="width: 80px; height: 80px; font-size: 32px;">
                            <i class="fa-solid fa-map-location-dot"></i>
                        </div>
                        <h2 style="color: var(--text-muted);">Interactive Map Placeholder</h2>
                        <p style="color: var(--text-muted);">India map with state-wise density heatmaps will be rendered
                            here.</p>
                    </div>
                </div>
            </div>

            <!-- Reports Section -->
            <div id="view-reports" class="view-section hidden">
                <header class="top-bar">
                    <div class="header-text">
                        <h1>Reports Export</h1>
                        <p>Generate and download analysis reports</p>
                    </div>
                </header>
                <div class="dashboard-grid">
                    <div class="glass-panel"
                        style="grid-column: span 4; display: flex; align-items: center; justify-content: center; height: 400px; flex-direction: column; gap: 20px;">
                        <div class="icon-box green" style="width: 80px; height: 80px; font-size: 32px;">
                            <i class="fa-solid fa-file-export"></i>
                        </div>
                        <h2 style="color: var(--text-muted);">Reports Module</h2>
                        <p style="color: var(--text-muted);">Options to download PDF/CSV reports will be available here.
                        </p>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- States Modal -->
    <div id="statesModal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3>State-wise Enrolment Data</h3>
                <button id="closeModalBtn" class="btn-icon-small"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
                <table class="states-table">
                    <thead>
                        <tr>
                            <th>Rank</th>
                            <th>State</th>
                            <th>Enrolments</th>
                            <th>Trend</th>
                        </tr>
                    </thead>
                    <tbody id="statesTableBody">
                        <!-- Populated by JS -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- Enrolment Details Modal -->
    <div id="enrolmentModal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3><i class="fa-solid fa-users"></i> Total Enrolments - Detailed Breakdown</h3>
                <button class="btn-icon-small modal-close"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
                <div class="detail-stats-grid">
                    <div class="detail-stat-item">
                        <span class="detail-label">Total Count</span>
                        <span class="detail-value" id="enrolmentTotal">-</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Growth Rate</span>
                        <span class="detail-value" id="enrolmentGrowth">+12.5%</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Daily Average</span>
                        <span class="detail-value" id="enrolmentAvg">-</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Peak Day</span>
                        <span class="detail-value">Last Monday</span>
                    </div>
                </div>
                <div class="detail-section">
                    <h4>Age Group Distribution</h4>
                    <div id="enrolmentAgeBreakdown" class="age-breakdown">
                        <!-- Populated by JS -->
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Updates Details Modal -->
    <div id="updatesModal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3><i class="fa-solid fa-arrows-rotate"></i> Total Updates - Detailed View</h3>
                <button class="btn-icon-small modal-close"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
                <div class="detail-stats-grid">
                    <div class="detail-stat-item">
                        <span class="detail-label">Total Updates</span>
                        <span class="detail-value" id="updatesTotal">-</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Biometric</span>
                        <span class="detail-value" id="updatesBio">-</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Demographic</span>
                        <span class="detail-value" id="updatesDemo">-</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Success Rate</span>
                        <span class="detail-value">97.8%</span>
                    </div>
                </div>
                <div class="detail-section">
                    <h4>Top Reasons for Updates</h4>
                    <ul class="reason-list">
                        <li>Address Change - 35%</li>
                        <li>Biometric Renewal - 28%</li>
                        <li>Mobile Number Update - 22%</li>
                        <li>Photo Update - 15%</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <!-- Authentications Details Modal -->
    <div id="authModal" class="modal-overlay hidden">
        <div class="modal-content glass-panel">
            <div class="modal-header">
                <h3><i class="fa-solid fa-fingerprint"></i> Authentications - Detailed Analysis</h3>
                <button class="btn-icon-small modal-close"><i class="fa-solid fa-xmark"></i></button>
            </div>
            <div class="modal-body">
                <div class="detail-stats-grid">
                    <div class="detail-stat-item">
                        <span class="detail-label">Total Auth Requests</span>
                        <span class="detail-value">45.2M</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Success Rate</span>
                        <span class="detail-value">98.6%</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Avg Response Time</span>
                        <span class="detail-value">1.2s</span>
                    </div>
                    <div class="detail-stat-item">
                        <span class="detail-label">Failed Attempts</span>
                        <span class="detail-value">632K</span>
                    </div>
                </div>
                <div class="detail-section">
                    <h4>Authentication Methods</h4>
                    <ul class="reason-list">
                        <li>Fingerprint - 68%</li>
                        <li>Iris - 22%</li>
                        <li>OTP - 8%</li>
                        <li>Face Recognition - 2%</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <script src="dashboard.js?v=1.2"></script>
</body>

</html>